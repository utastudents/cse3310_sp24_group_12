<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="utf-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
    <title>TWSG</title>

	



    <body class="bg-dark text-white">
        <nav class="navbar navbar-dark border-bottom border-white mb-3">
            <div class="container-fluid justify-content-center">
            <h1 id="TWSG" class="navbar-brand d-flex font-weight-bold extra-bold" title="The World Search Game" style="font-size: 2em;">TWSG</h1>
            </div>
        </nav>

		
		<div class="container">
			<div class="text-center pb-3">
				<h3 id="username"></h3>
			</div>
			<div class="container row justify-content-center ">
				<div class="col card bg-secondary mx-5 text-center">
					<div class="card-body">
						<h6> Select Game mode</h6>
					</div>
				</div>
				<div class="col card bg-secondary mx-5 text-center">
					<div class="card-body">
						<h6> Players waiting</h6>
					</div>
				</div>
			</div>
			<div class="container row mt-3">
				<div class="col card bg-secondary mx-5 align-items-center text-center" id="GameMode" style = "max-height: 180px; ">

				</div>
				<div class="col card bg-secondary mx-5 align-items-center text-center" id="Waiting" style = "max-height: 180px;">
					
				</div>
			</div>
		</div>
		
		
		
	</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script>
	let usernames = localStorage.getItem('stringArray')
	let users = JSON.parse(usernames)
	let username = localStorage.getItem('username')
	let start = false

	if(username){
		document.getElementById('username').innerText = "Welcome, " + username
	}else{
		console.log("No username in local storage")
	}
	let idNum = 1
	for(let i = 2; i < 6; i++){
		document.getElementById('GameMode').innerHTML += "<a href='gamescreen.html' onclick='startGame(\""+i+"\", \""+idNum+"\")' id='start"+ (idNum++) +"' class='list-group-item list-group-item-action' style='width: 100%; max-width: 100%; height: 45px'>" + i + " player mode</a>"
	}
	
	
	let height = 180/(users.length - 1)
	
	users.forEach(element => {
		if(element !== username){
			document.getElementById('Waiting').innerHTML += "<li  class='list-group-item' style='width: 100%; max-width: 100%; height: "+ height +"px'>" + element + "</li>"
		}
		
	});
	
	if(users.length === 5){
		setTimeout(() =>{
			alert('Lobby is full!!!')
		},10000)
		
	}

	
	function startGame(x, idNum){
		if(x < users.length){
			event.preventDefault()
			alert('There are too many players in the lobby')
		}else if(x > users.length){
			event.preventDefault()
			alert('There are not enough players in the lobby')
		}
		else{
			let players = JSON.stringify(users)
            localStorage.setItem('usernames',players)
		}
	}

</script>


<style>
	@keyframes gradientAnimation {
		0% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
		100% {
			background-position: 0% 50%;
		}
	}

	#TWSG {
		background: linear-gradient(to right, #ffffff, #9d9da2, #ffffff);
		background-size: 200% auto;
		color: transparent;
		-webkit-background-clip: text;
		animation: gradientAnimation 3s linear infinite;
	}
</style>